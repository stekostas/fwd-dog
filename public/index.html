<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>fwd.dog - An ephemeral short link generator.</title>
    <link rel="stylesheet" href="assets/css/main.css">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="fwd.dog is an ephemeral short link generator. You provide a target URL, set an expiration time, and you get a short link.">
</head>
<body>
    <header>
        <h1 class="title"><a href="/">fwd.dog</a></h1>
    </header>
    <main>
    {{if .Success}}
        <p>Here's your short link:</p>
        <span class="msg link-msg">{{.Link}}</span>
        <input type="text" id="short-link" value="{{.Link}}">
        <button class="cta-btn" id="copy-btn" onclick="myFunction()">COPY</button>
        <script>
            function myFunction() {
                const copyText = document.getElementById("short-link");

                copyText.select();
                copyText.setSelectionRange(0, 99999); /*For mobile devices*/

                document.execCommand("copy");

                const copyBtn = document.getElementById("copy-btn");
                const original = copyBtn.innerText;

                copyBtn.innerText = "COPIED";
                copyBtn.setAttribute("disabled", "disabled")

                setTimeout(function () {
                    copyBtn.innerText = original;
                    copyBtn.removeAttribute("disabled")
                }, 800);
            }
        </script>
    {{else}}
        {{if .Message}}
            <span class="msg error-msg">{{.Message}}</span>
        {{end}}
    <form action="/" method="post">
        <div class="cta-container">
            <p>I want to generate a short link for the URL</p>
            <input type="url" id="url" autofocus required name="url" class="input-field" placeholder="https://foo.bar/baz">
            <p>that will expire in</p>
            <select class="input-field" name="ttl">
                {{range $ttl, $val := .TtlOptions}}
                    <option value="{{$ttl.Seconds}}">{{$val}}</option>
                {{end}}
            </select>
        </div>
        <input type="submit" class="cta-btn" value="GO">
    </form>
    <section class="explanation">
        <p>fwd.dog is an ephemeral short link generator. You provide a target URL, set an expiration time, and you get a short link. The system stores <i>only</i> the provided target URL bound to the generated link. No accounts, no tracking, entirely anonymous.</p>
        <p>The system can hold up to 56,800,235,584 unique links at any given time. The generated hash <i>- something like <code class="code">xY0z4</code> -</i> consists of 1 to 6 alphanumeric characters.</p>
        <p><small><i>Disclaimer: Please do not use the service to generate links that expose confidential pages which may hold sensitive information. Anyone can access any generated link. Additionally, the service holds the right to remove any links at any moment. No guarantees or SLAs are being offered.</i></small></p>
    </section>
    {{end}}
    </main>
    <footer>
        <p>Made by <a href="https://github.com/stekostas" target="_blank">@stekostas</a></p>
    </footer>
</body>
</html>